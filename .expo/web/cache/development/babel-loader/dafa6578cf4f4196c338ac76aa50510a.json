{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/rgoren/Desktop/personal/Mole-next-2/node_modules/react-native-push-notification-popup/src/views/DefaultPopup.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport PanResponder from \"react-native-web/dist/exports/PanResponder\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport { isIphoneX } from \"../utils\";\n\nvar _Dimensions$get = Dimensions.get('window'),\n    deviceWidth = _Dimensions$get.width;\n\nvar CONTAINER_MARGIN_TOP = Platform.OS === 'ios' ? isIphoneX() ? 44 : 20 : StatusBar.currentHeight + 10;\nvar slideOffsetYToTranslatePixelMapping = {\n  inputRange: [0, 1],\n  outputRange: [-150, 0]\n};\nvar HORIZONTAL_MARGIN = 8;\n\nvar getAnimatedContainerStyle = function getAnimatedContainerStyle(_ref) {\n  var containerSlideOffsetY = _ref.containerSlideOffsetY,\n      containerDragOffsetY = _ref.containerDragOffsetY,\n      containerScale = _ref.containerScale;\n  var slideInAnimationStyle = {\n    transform: [{\n      translateY: containerSlideOffsetY.interpolate(slideOffsetYToTranslatePixelMapping)\n    }, {\n      translateY: containerDragOffsetY\n    }, {\n      scale: containerScale\n    }]\n  };\n  var animatedContainerStyle = [styles.popupContainer, slideInAnimationStyle];\n  return animatedContainerStyle;\n};\n\nvar DefaultPopup = function (_Component) {\n  _inherits(DefaultPopup, _Component);\n\n  var _super = _createSuper(DefaultPopup);\n\n  function DefaultPopup(props) {\n    var _this;\n\n    _classCallCheck(this, DefaultPopup);\n\n    _this = _super.call(this, props);\n\n    _this._onPanResponderGrant = function (e, gestureState) {\n      _this.onPressInFeedback();\n    };\n\n    _this._onPanResponderMove = function (e, gestureState) {\n      var containerDragOffsetY = _this.state.containerDragOffsetY;\n      var newDragOffset = gestureState.dy < 100 ? gestureState.dy : 100;\n      containerDragOffsetY.setValue(newDragOffset);\n    };\n\n    _this._onPanResponderRelease = function (e, gestureState) {\n      var _this$state = _this.state,\n          onPressAndSlideOut = _this$state.onPressAndSlideOut,\n          containerDragOffsetY = _this$state.containerDragOffsetY;\n\n      _this.onPressOutFeedback();\n\n      if (gestureState.dy <= 2 && gestureState.dy >= -2 && gestureState.dx <= 2 && gestureState.dx >= -2) {\n        onPressAndSlideOut();\n      }\n\n      if (containerDragOffsetY._value < -30) {\n        _this.slideOutAndDismiss(200);\n      } else {\n        _this.clearTimerIfExist();\n\n        Animated.timing(containerDragOffsetY, {\n          toValue: 0,\n          duration: 200\n        }).start(function (_ref2) {\n          var finished = _ref2.finished;\n\n          _this.countdownToSlideOut();\n        });\n      }\n    };\n\n    _this.renderPopupContent = function () {\n      var _this$state2 = _this.state,\n          appIconSource = _this$state2.appIconSource,\n          appTitle = _this$state2.appTitle,\n          timeText = _this$state2.timeText,\n          title = _this$state2.title,\n          body = _this$state2.body;\n      var renderPopupContent = _this.props.renderPopupContent;\n\n      if (renderPopupContent) {\n        return renderPopupContent({\n          appIconSource: appIconSource,\n          appTitle: appTitle,\n          timeText: timeText,\n          title: title,\n          body: body\n        });\n      }\n\n      return React.createElement(View, {\n        style: styles.popupContentContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 7\n        }\n      }, React.createElement(View, {\n        style: styles.popupHeaderContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: styles.headerIconContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }\n      }, React.createElement(Image, {\n        style: styles.headerIcon,\n        source: appIconSource || null,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 13\n        }\n      })), React.createElement(View, {\n        style: styles.headerTextContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }\n      }, React.createElement(Text, {\n        style: styles.headerText,\n        numberOfLines: 1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 13\n        }\n      }, appTitle || '')), React.createElement(View, {\n        style: styles.headerTimeContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }\n      }, React.createElement(Text, {\n        style: styles.headerTime,\n        numberOfLines: 1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 13\n        }\n      }, timeText || ''))), React.createElement(View, {\n        style: styles.contentContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: styles.contentTitleContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }\n      }, React.createElement(Text, {\n        style: styles.contentTitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 13\n        }\n      }, title || '')), React.createElement(View, {\n        style: styles.contentTextContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }\n      }, React.createElement(Text, {\n        style: styles.contentText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 13\n        }\n      }, body || ''))));\n    };\n\n    _this.onPressInFeedback = function () {\n      var containerScale = _this.state.containerScale;\n      Animated.spring(containerScale, {\n        toValue: 0.95,\n        friction: 8\n      }).start();\n    };\n\n    _this.onPressOutFeedback = function () {\n      var containerScale = _this.state.containerScale;\n      Animated.spring(containerScale, {\n        toValue: 1,\n        friction: 8\n      }).start();\n    };\n\n    _this.createOnPressWithCallback = function (callback) {\n      return function () {\n        _this.slideOutAndDismiss(200);\n\n        if (callback) callback();\n      };\n    };\n\n    _this.clearTimerIfExist = function () {\n      var slideOutTimer = _this.state.slideOutTimer;\n      if (slideOutTimer) clearTimeout(slideOutTimer);\n    };\n\n    _this.slideIn = function (duration) {\n      var containerSlideOffsetY = _this.state.containerSlideOffsetY;\n      Animated.timing(containerSlideOffsetY, {\n        toValue: 1,\n        duration: duration || 400\n      }).start(function (_ref3) {\n        var finished = _ref3.finished;\n\n        _this.countdownToSlideOut();\n      });\n    };\n\n    _this.countdownToSlideOut = function () {\n      var slideOutTimer = setTimeout(function () {\n        _this.slideOutAndDismiss();\n      }, _this.state.slideOutTime);\n\n      _this.setState({\n        slideOutTimer: slideOutTimer\n      });\n    };\n\n    _this.slideOutAndDismiss = function (duration) {\n      var containerSlideOffsetY = _this.state.containerSlideOffsetY;\n      Animated.timing(containerSlideOffsetY, {\n        toValue: 0,\n        duration: duration || 400\n      }).start(function (_ref4) {\n        var finished = _ref4.finished;\n\n        _this.setState({\n          show: false\n        });\n      });\n    };\n\n    _this.show = function (messageConfig) {\n      _this.clearTimerIfExist();\n\n      var _messageConfig = messageConfig || {};\n\n      var onPressCallback = _messageConfig.onPress,\n          appIconSource = _messageConfig.appIconSource,\n          appTitle = _messageConfig.appTitle,\n          timeText = _messageConfig.timeText,\n          title = _messageConfig.title,\n          body = _messageConfig.body,\n          slideOutTime = _messageConfig.slideOutTime;\n\n      var onPressAndSlideOut = _this.createOnPressWithCallback(onPressCallback);\n\n      _this.setState({\n        show: true,\n        containerSlideOffsetY: new Animated.Value(0),\n        slideOutTimer: null,\n        containerDragOffsetY: new Animated.Value(0),\n        containerScale: new Animated.Value(1),\n        onPressAndSlideOut: onPressAndSlideOut,\n        appIconSource: appIconSource,\n        appTitle: appTitle,\n        timeText: timeText,\n        title: title,\n        body: body,\n        slideOutTime: typeof slideOutTime !== 'number' ? 4000 : slideOutTime\n      }, _this.slideIn);\n    };\n\n    _this.state = {\n      show: false,\n      containerSlideOffsetY: new Animated.Value(0),\n      slideOutTimer: null,\n      containerDragOffsetY: new Animated.Value(0),\n      containerScale: new Animated.Value(1),\n      onPressAndSlideOut: null,\n      appIconSource: null,\n      appTitle: null,\n      timeText: null,\n      title: null,\n      body: null,\n      slideOutTime: null\n    };\n    _this._panResponder = PanResponder.create({\n      onStartShouldSetPanResponder: function onStartShouldSetPanResponder(e, gestureState) {\n        return true;\n      },\n      onMoveShouldSetPanResponder: function onMoveShouldSetPanResponder(e, gestureState) {\n        return true;\n      },\n      onPanResponderGrant: _this._onPanResponderGrant,\n      onPanResponderMove: _this._onPanResponderMove,\n      onPanResponderRelease: _this._onPanResponderRelease\n    });\n    return _this;\n  }\n\n  _createClass(DefaultPopup, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state3 = this.state,\n          show = _this$state3.show,\n          containerSlideOffsetY = _this$state3.containerSlideOffsetY,\n          containerDragOffsetY = _this$state3.containerDragOffsetY,\n          containerScale = _this$state3.containerScale,\n          onPressAndSlideOut = _this$state3.onPressAndSlideOut;\n\n      if (!show) {\n        return null;\n      }\n\n      return React.createElement(Animated.View, _extends({\n        style: getAnimatedContainerStyle({\n          containerSlideOffsetY: containerSlideOffsetY,\n          containerDragOffsetY: containerDragOffsetY,\n          containerScale: containerScale\n        })\n      }, this._panResponder.panHandlers, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 7\n        }\n      }), React.createElement(TouchableWithoutFeedback, {\n        onPress: onPressAndSlideOut,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }\n      }, this.renderPopupContent())));\n    }\n  }]);\n\n  return DefaultPopup;\n}(Component);\n\nDefaultPopup.propTypes = {\n  renderPopupContent: PropTypes.func\n};\nexport { DefaultPopup as default };\nvar styles = StyleSheet.create({\n  popupContainer: {\n    position: 'absolute',\n    width: deviceWidth - HORIZONTAL_MARGIN * 2,\n    left: HORIZONTAL_MARGIN,\n    right: HORIZONTAL_MARGIN,\n    top: CONTAINER_MARGIN_TOP\n  },\n  popupContentContainer: {\n    backgroundColor: 'white',\n    borderRadius: 12,\n    minHeight: 86,\n    elevation: 2,\n    shadowColor: '#000000',\n    shadowOpacity: 0.5,\n    shadowRadius: 3,\n    shadowOffset: {\n      height: 1,\n      width: 0\n    }\n  },\n  popupHeaderContainer: {\n    height: 32,\n    backgroundColor: '#F1F1F1',\n    borderTopLeftRadius: 12,\n    borderTopRightRadius: 12,\n    paddingVertical: 6,\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center'\n  },\n  headerIconContainer: {\n    height: 20,\n    width: 20,\n    marginLeft: 12,\n    marginRight: 8,\n    borderRadius: 4\n  },\n  headerIcon: {\n    height: 20,\n    width: 20,\n    resizeMode: 'contain'\n  },\n  headerTextContainer: {\n    flex: 1\n  },\n  headerText: {\n    fontSize: 13,\n    color: '#808080',\n    lineHeight: 20\n  },\n  headerTimeContainer: {\n    marginHorizontal: 16\n  },\n  headerTime: {\n    fontSize: 12,\n    color: '#808080',\n    lineHeight: 14\n  },\n  contentContainer: {\n    width: '100%',\n    paddingTop: 8,\n    paddingBottom: 10,\n    paddingHorizontal: 16\n  },\n  contentTitleContainer: {},\n  contentTitle: {\n    fontSize: 15,\n    lineHeight: 18,\n    color: 'black'\n  },\n  contentTextContainer: {},\n  contentText: {\n    fontSize: 12,\n    lineHeight: 14,\n    color: '#808080',\n    marginTop: 5\n  }\n});","map":{"version":3,"sources":["/Users/rgoren/Desktop/personal/Mole-next-2/node_modules/react-native-push-notification-popup/src/views/DefaultPopup.js"],"names":["React","Component","PropTypes","isIphoneX","Dimensions","get","deviceWidth","width","CONTAINER_MARGIN_TOP","Platform","OS","StatusBar","currentHeight","slideOffsetYToTranslatePixelMapping","inputRange","outputRange","HORIZONTAL_MARGIN","getAnimatedContainerStyle","containerSlideOffsetY","containerDragOffsetY","containerScale","slideInAnimationStyle","transform","translateY","interpolate","scale","animatedContainerStyle","styles","popupContainer","DefaultPopup","props","_onPanResponderGrant","e","gestureState","onPressInFeedback","_onPanResponderMove","state","newDragOffset","dy","setValue","_onPanResponderRelease","onPressAndSlideOut","onPressOutFeedback","dx","_value","slideOutAndDismiss","clearTimerIfExist","Animated","timing","toValue","duration","start","finished","countdownToSlideOut","renderPopupContent","appIconSource","appTitle","timeText","title","body","popupContentContainer","popupHeaderContainer","headerIconContainer","headerIcon","headerTextContainer","headerText","headerTimeContainer","headerTime","contentContainer","contentTitleContainer","contentTitle","contentTextContainer","contentText","spring","friction","createOnPressWithCallback","callback","slideOutTimer","clearTimeout","slideIn","setTimeout","slideOutTime","setState","show","messageConfig","_messageConfig","onPressCallback","onPress","Value","_panResponder","PanResponder","create","onStartShouldSetPanResponder","onMoveShouldSetPanResponder","onPanResponderGrant","onPanResponderMove","onPanResponderRelease","panHandlers","propTypes","func","StyleSheet","position","left","right","top","backgroundColor","borderRadius","minHeight","elevation","shadowColor","shadowOpacity","shadowRadius","shadowOffset","height","borderTopLeftRadius","borderTopRightRadius","paddingVertical","flexDirection","justifyContent","alignItems","marginLeft","marginRight","resizeMode","flex","fontSize","color","lineHeight","marginHorizontal","paddingTop","paddingBottom","paddingHorizontal","marginTop"],"mappings":";;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,YAAtB;;;;;;;;;;;AAGA,SAASC,SAAT;;sBAE+BC,UAAU,CAACC,GAAX,CAAe,QAAf,C;IAAhBC,W,mBAAPC,K;;AAER,IAAMC,oBAAoB,GACxBC,QAAQ,CAACC,EAAT,KAAgB,KAAhB,GAEEP,SAAS,KAAK,EAAL,GAAU,EAFrB,GAIEQ,SAAS,CAACC,aAAV,GAA0B,EAL9B;AAOA,IAAMC,mCAAmC,GAAG;AAC1CC,EAAAA,UAAU,EAAE,CAAC,CAAD,EAAI,CAAJ,CAD8B;AAE1CC,EAAAA,WAAW,EAAE,CAAC,CAAC,GAAF,EAAO,CAAP;AAF6B,CAA5C;AAKA,IAAMC,iBAAiB,GAAG,CAA1B;;AAEA,IAAMC,yBAAyB,GAAG,SAA5BA,yBAA4B,OAAmE;AAAA,MAAjEC,qBAAiE,QAAjEA,qBAAiE;AAAA,MAA1CC,oBAA0C,QAA1CA,oBAA0C;AAAA,MAApBC,cAAoB,QAApBA,cAAoB;AAEnG,MAAMC,qBAAqB,GAAG;AAC5BC,IAAAA,SAAS,EAAE,CACT;AAACC,MAAAA,UAAU,EAAEL,qBAAqB,CAACM,WAAtB,CAAkCX,mCAAlC;AAAb,KADS,EAET;AAACU,MAAAA,UAAU,EAAEJ;AAAb,KAFS,EAGT;AAACM,MAAAA,KAAK,EAAEL;AAAR,KAHS;AADiB,GAA9B;AASA,MAAMM,sBAAsB,GAAG,CAC7BC,MAAM,CAACC,cADsB,EAE7BP,qBAF6B,CAA/B;AAKA,SAAOK,sBAAP;AACD,CAjBD;;IAmBqBG,Y;;;;;AAMnB,wBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;;AADiB,UAsCnBC,oBAtCmB,GAsCI,UAACC,CAAD,EAAIC,YAAJ,EAAqB;AAE1C,YAAKC,iBAAL;AACD,KAzCkB;;AAAA,UA4CnBC,mBA5CmB,GA4CG,UAACH,CAAD,EAAIC,YAAJ,EAAqB;AAAA,UAEjCd,oBAFiC,GAER,MAAKiB,KAFG,CAEjCjB,oBAFiC;AAIzC,UAAMkB,aAAa,GAAGJ,YAAY,CAACK,EAAb,GAAkB,GAAlB,GAAwBL,YAAY,CAACK,EAArC,GAA0C,GAAhE;AACAnB,MAAAA,oBAAoB,CAACoB,QAArB,CAA8BF,aAA9B;AACD,KAlDkB;;AAAA,UAoDnBG,sBApDmB,GAoDM,UAACR,CAAD,EAAIC,YAAJ,EAAqB;AAAA,wBAES,MAAKG,KAFd;AAAA,UAEpCK,kBAFoC,eAEpCA,kBAFoC;AAAA,UAEhBtB,oBAFgB,eAEhBA,oBAFgB;;AAK5C,YAAKuB,kBAAL;;AAKA,UAAIT,YAAY,CAACK,EAAb,IAAmB,CAAnB,IAAwBL,YAAY,CAACK,EAAb,IAAmB,CAAC,CAA5C,IAAiDL,YAAY,CAACU,EAAb,IAAmB,CAApE,IAAyEV,YAAY,CAACU,EAAb,IAAmB,CAAC,CAAjG,EAAoG;AAClGF,QAAAA,kBAAkB;AACnB;;AAGD,UAAItB,oBAAoB,CAACyB,MAArB,GAA8B,CAAC,EAAnC,EAAuC;AAErC,cAAKC,kBAAL,CAAwB,GAAxB;AACD,OAHD,MAGO;AAEL,cAAKC,iBAAL;;AACAC,QAAAA,QAAQ,CAACC,MAAT,CAAgB7B,oBAAhB,EAAsC;AAAE8B,UAAAA,OAAO,EAAE,CAAX;AAAcC,UAAAA,QAAQ,EAAE;AAAxB,SAAtC,EACGC,KADH,CACS,iBAAgB;AAAA,cAAdC,QAAc,SAAdA,QAAc;;AAErB,gBAAKC,mBAAL;AACD,SAJH;AAKD;AACF,KA/EkB;;AAAA,UAiFnBC,kBAjFmB,GAiFE,YAAM;AAAA,yBACkC,MAAKlB,KADvC;AAAA,UACjBmB,aADiB,gBACjBA,aADiB;AAAA,UACFC,QADE,gBACFA,QADE;AAAA,UACQC,QADR,gBACQA,QADR;AAAA,UACkBC,KADlB,gBACkBA,KADlB;AAAA,UACyBC,IADzB,gBACyBA,IADzB;AAAA,UAEjBL,kBAFiB,GAEM,MAAKxB,KAFX,CAEjBwB,kBAFiB;;AAGzB,UAAIA,kBAAJ,EAAwB;AACtB,eAAOA,kBAAkB,CAAC;AAAEC,UAAAA,aAAa,EAAbA,aAAF;AAAiBC,UAAAA,QAAQ,EAARA,QAAjB;AAA2BC,UAAAA,QAAQ,EAARA,QAA3B;AAAqCC,UAAAA,KAAK,EAALA,KAArC;AAA4CC,UAAAA,IAAI,EAAJA;AAA5C,SAAD,CAAzB;AACD;;AAED,aACE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEhC,MAAM,CAACiC,qBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEjC,MAAM,CAACkC,oBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAElC,MAAM,CAACmC,mBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,KAAD;AAAO,QAAA,KAAK,EAAEnC,MAAM,CAACoC,UAArB;AAAiC,QAAA,MAAM,EAAER,aAAa,IAAI,IAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,EAIE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE5B,MAAM,CAACqC,mBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAErC,MAAM,CAACsC,UAApB;AAAgC,QAAA,aAAa,EAAE,CAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGT,QAAQ,IAAI,EADf,CADF,CAJF,EASE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE7B,MAAM,CAACuC,mBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEvC,MAAM,CAACwC,UAApB;AAAgC,QAAA,aAAa,EAAE,CAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGV,QAAQ,IAAI,EADf,CADF,CATF,CADF,EAgBE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE9B,MAAM,CAACyC,gBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEzC,MAAM,CAAC0C,qBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE1C,MAAM,CAAC2C,YAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAmCZ,KAAK,IAAI,EAA5C,CADF,CADF,EAIE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE/B,MAAM,CAAC4C,oBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE5C,MAAM,CAAC6C,WAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAkCb,IAAI,IAAI,EAA1C,CADF,CAJF,CAhBF,CADF;AA2BD,KAnHkB;;AAAA,UA6InBzB,iBA7ImB,GA6IC,YAAM;AAAA,UAGhBd,cAHgB,GAGG,MAAKgB,KAHR,CAGhBhB,cAHgB;AAIxB2B,MAAAA,QAAQ,CAAC0B,MAAT,CAAgBrD,cAAhB,EAAgC;AAAE6B,QAAAA,OAAO,EAAE,IAAX;AAAiByB,QAAAA,QAAQ,EAAE;AAA3B,OAAhC,EACGvB,KADH;AAED,KAnJkB;;AAAA,UAqJnBT,kBArJmB,GAqJE,YAAM;AAAA,UAGjBtB,cAHiB,GAGE,MAAKgB,KAHP,CAGjBhB,cAHiB;AAIzB2B,MAAAA,QAAQ,CAAC0B,MAAT,CAAgBrD,cAAhB,EAAgC;AAAE6B,QAAAA,OAAO,EAAE,CAAX;AAAcyB,QAAAA,QAAQ,EAAE;AAAxB,OAAhC,EACGvB,KADH;AAED,KA3JkB;;AAAA,UA6JnBwB,yBA7JmB,GA6JS,UAACC,QAAD,EAAc;AACxC,aAAO,YAAM;AAEX,cAAK/B,kBAAL,CAAwB,GAAxB;;AAGA,YAAI+B,QAAJ,EAAcA,QAAQ;AACvB,OAND;AAOD,KArKkB;;AAAA,UAuKnB9B,iBAvKmB,GAuKC,YAAM;AAAA,UAChB+B,aADgB,GACE,MAAKzC,KADP,CAChByC,aADgB;AAExB,UAAIA,aAAJ,EAAmBC,YAAY,CAACD,aAAD,CAAZ;AACpB,KA1KkB;;AAAA,UA4KnBE,OA5KmB,GA4KT,UAAC7B,QAAD,EAAc;AAAA,UAEdhC,qBAFc,GAEY,MAAKkB,KAFjB,CAEdlB,qBAFc;AAGtB6B,MAAAA,QAAQ,CAACC,MAAT,CAAgB9B,qBAAhB,EAAuC;AAAE+B,QAAAA,OAAO,EAAE,CAAX;AAAcC,QAAAA,QAAQ,EAAEA,QAAQ,IAAI;AAApC,OAAvC,EACGC,KADH,CACS,iBAAgB;AAAA,YAAdC,QAAc,SAAdA,QAAc;;AACrB,cAAKC,mBAAL;AACD,OAHH;AAID,KAnLkB;;AAAA,UAqLnBA,mBArLmB,GAqLG,YAAM;AAC1B,UAAMwB,aAAa,GAAGG,UAAU,CAAC,YAAM;AACrC,cAAKnC,kBAAL;AACD,OAF+B,EAE7B,MAAKT,KAAL,CAAW6C,YAFkB,CAAhC;;AAGA,YAAKC,QAAL,CAAc;AAAEL,QAAAA,aAAa,EAAbA;AAAF,OAAd;AACD,KA1LkB;;AAAA,UA4LnBhC,kBA5LmB,GA4LE,UAACK,QAAD,EAAc;AAAA,UACzBhC,qBADyB,GACC,MAAKkB,KADN,CACzBlB,qBADyB;AAIjC6B,MAAAA,QAAQ,CAACC,MAAT,CAAgB9B,qBAAhB,EAAuC;AAAE+B,QAAAA,OAAO,EAAE,CAAX;AAAcC,QAAAA,QAAQ,EAAEA,QAAQ,IAAI;AAApC,OAAvC,EACGC,KADH,CACS,iBAAgB;AAAA,YAAdC,QAAc,SAAdA,QAAc;;AAErB,cAAK8B,QAAL,CAAc;AAAEC,UAAAA,IAAI,EAAE;AAAR,SAAd;AACD,OAJH;AAKD,KArMkB;;AAAA,UAwMnBA,IAxMmB,GAwMZ,UAACC,aAAD,EAAmB;AACxB,YAAKtC,iBAAL;;AAGA,UAAMuC,cAAc,GAAGD,aAAa,IAAI,EAAxC;;AAJwB,UAMbE,eANa,GAapBD,cAboB,CAMtBE,OANsB;AAAA,UAOtBhC,aAPsB,GAapB8B,cAboB,CAOtB9B,aAPsB;AAAA,UAQtBC,QARsB,GAapB6B,cAboB,CAQtB7B,QARsB;AAAA,UAStBC,QATsB,GAapB4B,cAboB,CAStB5B,QATsB;AAAA,UAUtBC,KAVsB,GAapB2B,cAboB,CAUtB3B,KAVsB;AAAA,UAWtBC,IAXsB,GAapB0B,cAboB,CAWtB1B,IAXsB;AAAA,UAYtBsB,YAZsB,GAapBI,cAboB,CAYtBJ,YAZsB;;AAcxB,UAAMxC,kBAAkB,GAAG,MAAKkC,yBAAL,CAA+BW,eAA/B,CAA3B;;AACA,YAAKJ,QAAL,CAAc;AACZC,QAAAA,IAAI,EAAE,IADM;AAEZjE,QAAAA,qBAAqB,EAAE,IAAI6B,QAAQ,CAACyC,KAAb,CAAmB,CAAnB,CAFX;AAGZX,QAAAA,aAAa,EAAE,IAHH;AAIZ1D,QAAAA,oBAAoB,EAAE,IAAI4B,QAAQ,CAACyC,KAAb,CAAmB,CAAnB,CAJV;AAKZpE,QAAAA,cAAc,EAAE,IAAI2B,QAAQ,CAACyC,KAAb,CAAmB,CAAnB,CALJ;AAMZ/C,QAAAA,kBAAkB,EAAlBA,kBANY;AAOZc,QAAAA,aAAa,EAAbA,aAPY;AAQZC,QAAAA,QAAQ,EAARA,QARY;AASZC,QAAAA,QAAQ,EAARA,QATY;AAUZC,QAAAA,KAAK,EAALA,KAVY;AAWZC,QAAAA,IAAI,EAAJA,IAXY;AAYZsB,QAAAA,YAAY,EAAE,OAAOA,YAAP,KAAwB,QAAxB,GAAmC,IAAnC,GAA0CA;AAZ5C,OAAd,EAaG,MAAKF,OAbR;AAcD,KArOkB;;AAEjB,UAAK3C,KAAL,GAAa;AACX+C,MAAAA,IAAI,EAAE,KADK;AAQXjE,MAAAA,qBAAqB,EAAE,IAAI6B,QAAQ,CAACyC,KAAb,CAAmB,CAAnB,CARZ;AASXX,MAAAA,aAAa,EAAE,IATJ;AAYX1D,MAAAA,oBAAoB,EAAE,IAAI4B,QAAQ,CAACyC,KAAb,CAAmB,CAAnB,CAZX;AAeXpE,MAAAA,cAAc,EAAE,IAAI2B,QAAQ,CAACyC,KAAb,CAAmB,CAAnB,CAfL;AAiBX/C,MAAAA,kBAAkB,EAAE,IAjBT;AAkBXc,MAAAA,aAAa,EAAE,IAlBJ;AAmBXC,MAAAA,QAAQ,EAAE,IAnBC;AAoBXC,MAAAA,QAAQ,EAAE,IApBC;AAqBXC,MAAAA,KAAK,EAAE,IArBI;AAsBXC,MAAAA,IAAI,EAAE,IAtBK;AAuBXsB,MAAAA,YAAY,EAAE;AAvBH,KAAb;AAyBA,UAAKQ,aAAL,GAAqBC,YAAY,CAACC,MAAb,CAAoB;AACvCC,MAAAA,4BAA4B,EAAE,sCAAC5D,CAAD,EAAIC,YAAJ;AAAA,eAAqB,IAArB;AAAA,OADS;AAGvC4D,MAAAA,2BAA2B,EAAE,qCAAC7D,CAAD,EAAIC,YAAJ;AAAA,eAAqB,IAArB;AAAA,OAHU;AAKvC6D,MAAAA,mBAAmB,EAAE,MAAK/D,oBALa;AAMvCgE,MAAAA,kBAAkB,EAAE,MAAK5D,mBANc;AAOvC6D,MAAAA,qBAAqB,EAAE,MAAKxD;AAPW,KAApB,CAArB;AA3BiB;AAoClB;;;;6BAiFQ;AAAA,yBAKH,KAAKJ,KALF;AAAA,UAEL+C,IAFK,gBAELA,IAFK;AAAA,UAGLjE,qBAHK,gBAGLA,qBAHK;AAAA,UAGkBC,oBAHlB,gBAGkBA,oBAHlB;AAAA,UAGwCC,cAHxC,gBAGwCA,cAHxC;AAAA,UAILqB,kBAJK,gBAILA,kBAJK;;AAOP,UAAI,CAAC0C,IAAL,EAAW;AACT,eAAO,IAAP;AACD;;AAED,aACE,oBAAC,QAAD,CAAU,IAAV;AACE,QAAA,KAAK,EAAElE,yBAAyB,CAAC;AAACC,UAAAA,qBAAqB,EAArBA,qBAAD;AAAwBC,UAAAA,oBAAoB,EAApBA,oBAAxB;AAA8CC,UAAAA,cAAc,EAAdA;AAA9C,SAAD;AADlC,SAEM,KAAKqE,aAAL,CAAmBQ,WAFzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAGE,oBAAC,wBAAD;AAA0B,QAAA,OAAO,EAAExD,kBAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKa,kBAAL,EADH,CADF,CAHF,CADF;AAWD;;;;EAjJuCrD,S;;AAArB4B,Y,CAEZqE,S,GAAY;AACjB5C,EAAAA,kBAAkB,EAAEpD,SAAS,CAACiG;AADb,C;SAFAtE,Y;AA8OrB,IAAMF,MAAM,GAAGyE,UAAU,CAACT,MAAX,CAAkB;AAC/B/D,EAAAA,cAAc,EAAE;AACdyE,IAAAA,QAAQ,EAAE,UADI;AAEd9F,IAAAA,KAAK,EAAED,WAAW,GAAIU,iBAAiB,GAAG,CAF5B;AAGdsF,IAAAA,IAAI,EAAEtF,iBAHQ;AAIduF,IAAAA,KAAK,EAAEvF,iBAJO;AAKdwF,IAAAA,GAAG,EAAEhG;AALS,GADe;AAS/BoD,EAAAA,qBAAqB,EAAE;AACrB6C,IAAAA,eAAe,EAAE,OADI;AAErBC,IAAAA,YAAY,EAAE,EAFO;AAGrBC,IAAAA,SAAS,EAAE,EAHU;AAMrBC,IAAAA,SAAS,EAAE,CANU;AAQrBC,IAAAA,WAAW,EAAE,SARQ;AASrBC,IAAAA,aAAa,EAAE,GATM;AAUrBC,IAAAA,YAAY,EAAE,CAVO;AAWrBC,IAAAA,YAAY,EAAE;AACZC,MAAAA,MAAM,EAAE,CADI;AAEZ1G,MAAAA,KAAK,EAAE;AAFK;AAXO,GATQ;AA0B/BsD,EAAAA,oBAAoB,EAAE;AACpBoD,IAAAA,MAAM,EAAE,EADY;AAEpBR,IAAAA,eAAe,EAAE,SAFG;AAGpBS,IAAAA,mBAAmB,EAAE,EAHD;AAIpBC,IAAAA,oBAAoB,EAAE,EAJF;AAKpBC,IAAAA,eAAe,EAAE,CALG;AAMpBC,IAAAA,aAAa,EAAE,KANK;AAOpBC,IAAAA,cAAc,EAAE,eAPI;AAQpBC,IAAAA,UAAU,EAAE;AARQ,GA1BS;AAoC/BzD,EAAAA,mBAAmB,EAAE;AACnBmD,IAAAA,MAAM,EAAE,EADW;AAEnB1G,IAAAA,KAAK,EAAE,EAFY;AAGnBiH,IAAAA,UAAU,EAAE,EAHO;AAInBC,IAAAA,WAAW,EAAE,CAJM;AAKnBf,IAAAA,YAAY,EAAE;AALK,GApCU;AA2C/B3C,EAAAA,UAAU,EAAE;AACVkD,IAAAA,MAAM,EAAE,EADE;AAEV1G,IAAAA,KAAK,EAAE,EAFG;AAGVmH,IAAAA,UAAU,EAAE;AAHF,GA3CmB;AAgD/B1D,EAAAA,mBAAmB,EAAE;AACnB2D,IAAAA,IAAI,EAAE;AADa,GAhDU;AAmD/B1D,EAAAA,UAAU,EAAE;AACV2D,IAAAA,QAAQ,EAAE,EADA;AAEVC,IAAAA,KAAK,EAAE,SAFG;AAGVC,IAAAA,UAAU,EAAE;AAHF,GAnDmB;AAwD/B5D,EAAAA,mBAAmB,EAAE;AACnB6D,IAAAA,gBAAgB,EAAE;AADC,GAxDU;AA2D/B5D,EAAAA,UAAU,EAAE;AACVyD,IAAAA,QAAQ,EAAE,EADA;AAEVC,IAAAA,KAAK,EAAE,SAFG;AAGVC,IAAAA,UAAU,EAAE;AAHF,GA3DmB;AAgE/B1D,EAAAA,gBAAgB,EAAE;AAChB7D,IAAAA,KAAK,EAAE,MADS;AAEhByH,IAAAA,UAAU,EAAE,CAFI;AAGhBC,IAAAA,aAAa,EAAE,EAHC;AAIhBC,IAAAA,iBAAiB,EAAE;AAJH,GAhEa;AAsE/B7D,EAAAA,qBAAqB,EAAE,EAtEQ;AAwE/BC,EAAAA,YAAY,EAAE;AACZsD,IAAAA,QAAQ,EAAE,EADE;AAEZE,IAAAA,UAAU,EAAE,EAFA;AAGZD,IAAAA,KAAK,EAAE;AAHK,GAxEiB;AA6E/BtD,EAAAA,oBAAoB,EAAE,EA7ES;AA+E/BC,EAAAA,WAAW,EAAE;AACXoD,IAAAA,QAAQ,EAAE,EADC;AAEXE,IAAAA,UAAU,EAAE,EAFD;AAGXD,IAAAA,KAAK,EAAE,SAHI;AAIXM,IAAAA,SAAS,EAAE;AAJA;AA/EkB,CAAlB,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Animated, View, Text, Image, Dimensions, Platform, StatusBar, StyleSheet, PanResponder, TouchableWithoutFeedback } from 'react-native';\n\nimport { isIphoneX } from '../utils';\n\nconst { width: deviceWidth } = Dimensions.get('window');\n\nconst CONTAINER_MARGIN_TOP = (\n  Platform.OS === 'ios'\n    ?\n    isIphoneX() ? 44 : 20\n    :\n    StatusBar.currentHeight + 10);  // Just to add a bit more padding\n\nconst slideOffsetYToTranslatePixelMapping = {\n  inputRange: [0, 1],\n  outputRange: [-150, 0]\n};\n\nconst HORIZONTAL_MARGIN = 8; // left/right margin to screen edge\n\nconst getAnimatedContainerStyle = ({containerSlideOffsetY, containerDragOffsetY, containerScale}) => {\n  // Map 0-1 value to translateY value\n  const slideInAnimationStyle = {\n    transform: [\n      {translateY: containerSlideOffsetY.interpolate(slideOffsetYToTranslatePixelMapping)},\n      {translateY: containerDragOffsetY},\n      {scale: containerScale},\n    ],\n  };\n\n  // Combine with original container style\n  const animatedContainerStyle = [\n    styles.popupContainer,\n    slideInAnimationStyle,\n  ];\n\n  return animatedContainerStyle;\n};\n\nexport default class DefaultPopup extends Component {\n\n  static propTypes = {\n    renderPopupContent: PropTypes.func,\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: false,\n\n      /*\n        Slide-in Animation\n        Use value 0 - 1 to control the whole animation\n        Then map it to actual behaviour in style in render\n       */\n      containerSlideOffsetY: new Animated.Value(0),\n      slideOutTimer: null,\n\n      // Drag Gesture\n      containerDragOffsetY: new Animated.Value(0),\n\n      // onPress Feedback\n      containerScale: new Animated.Value(1),  // Directly set a scale\n\n      onPressAndSlideOut: null,\n      appIconSource: null,\n      appTitle: null,\n      timeText: null,\n      title: null,\n      body: null,\n      slideOutTime: null,\n    };\n    this._panResponder = PanResponder.create({\n      onStartShouldSetPanResponder: (e, gestureState) => true,\n      // onStartShouldSetPanResponderCapture: (e, gestureState) => false,\n      onMoveShouldSetPanResponder: (e, gestureState) => true,\n      // onMoveShouldSetPanResponderCapture: (e, gestureState) => false,\n      onPanResponderGrant: this._onPanResponderGrant,\n      onPanResponderMove: this._onPanResponderMove,\n      onPanResponderRelease: this._onPanResponderRelease,\n    });\n  }\n\n  _onPanResponderGrant = (e, gestureState) => {\n    // console.log('_onPanResponderGrant', gestureState);  // DEBUG\n    this.onPressInFeedback();\n  }\n\n  // https://facebook.github.io/react-native/docs/animations.html#tracking-gestures\n  _onPanResponderMove = (e, gestureState) => {\n    // console.log('_onPanResponderMove', gestureState);  // DEBUG\n    const { containerDragOffsetY } = this.state;\n    // Prevent dragging down too much\n    const newDragOffset = gestureState.dy < 100 ? gestureState.dy : 100;  // TODO: customize\n    containerDragOffsetY.setValue(newDragOffset);\n  }\n\n  _onPanResponderRelease = (e, gestureState) => {\n    // console.log('_onPanResponderRelease', gestureState);  // DEBUG\n    const { onPressAndSlideOut, containerDragOffsetY } = this.state;\n\n    // Present feedback\n    this.onPressOutFeedback();\n\n    // Check if it is onPress\n    // Currently tolerate +-2 movement\n    // Note that \"move around, back to original position, release\" still triggers onPress\n    if (gestureState.dy <= 2 && gestureState.dy >= -2 && gestureState.dx <= 2 && gestureState.dx >= -2) {\n      onPressAndSlideOut();\n    }\n\n    // Check if it is leaving the screen\n    if (containerDragOffsetY._value < -30) {  // TODO: turn into constant\n      // 1. If leaving screen -> slide out\n      this.slideOutAndDismiss(200);\n    } else {\n      // 2. If not leaving screen -> slide back to original position\n      this.clearTimerIfExist();\n      Animated.timing(containerDragOffsetY, { toValue: 0, duration: 200 })\n        .start(({finished}) => {\n          // Reset a new countdown\n          this.countdownToSlideOut();\n        });\n    }\n  }\n  \n  renderPopupContent = () => {\n    const { appIconSource, appTitle, timeText, title, body } = this.state;\n    const { renderPopupContent } = this.props;\n    if (renderPopupContent) {\n      return renderPopupContent({ appIconSource, appTitle, timeText, title, body });\n    }\n\n    return (\n      <View style={styles.popupContentContainer}>\n        <View style={styles.popupHeaderContainer}>\n          <View style={styles.headerIconContainer}>\n            <Image style={styles.headerIcon} source={appIconSource || null} />\n          </View>\n          <View style={styles.headerTextContainer}>\n            <Text style={styles.headerText} numberOfLines={1}>\n              {appTitle || ''}\n            </Text>\n          </View>\n          <View style={styles.headerTimeContainer}>\n            <Text style={styles.headerTime} numberOfLines={1}>\n              {timeText || ''}\n            </Text>\n          </View>\n        </View>\n        <View style={styles.contentContainer}>\n          <View style={styles.contentTitleContainer}>\n            <Text style={styles.contentTitle}>{title || ''}</Text>\n          </View>\n          <View style={styles.contentTextContainer}>\n            <Text style={styles.contentText}>{body || ''}</Text>\n          </View>\n        </View>\n      </View>\n    );\n  }\n\n  render() {\n    const {\n      show,\n      containerSlideOffsetY, containerDragOffsetY, containerScale,\n      onPressAndSlideOut,\n    } = this.state;\n\n    if (!show) {\n      return null;\n    }\n\n    return (\n      <Animated.View\n        style={getAnimatedContainerStyle({containerSlideOffsetY, containerDragOffsetY, containerScale})}\n        {...this._panResponder.panHandlers}>\n        <TouchableWithoutFeedback onPress={onPressAndSlideOut}>\n          <View>\n            {this.renderPopupContent()}\n          </View>\n        </TouchableWithoutFeedback>\n      </Animated.View>\n    );\n  }\n\n  onPressInFeedback = () => {\n    // console.log('PressIn!');  // DEBUG\n    // Show feedback as soon as user press down\n    const { containerScale } = this.state;\n    Animated.spring(containerScale, { toValue: 0.95, friction: 8 })\n      .start();\n  }\n\n  onPressOutFeedback = () => {\n    // console.log('PressOut!');  // DEBUG\n    // Show feedback as soon as user press down\n    const { containerScale } = this.state;\n    Animated.spring(containerScale, { toValue: 1, friction: 8 })\n      .start();\n  }\n\n  createOnPressWithCallback = (callback) => {\n    return () => {\n      // slide out\n      this.slideOutAndDismiss(200);\n\n      // Run callback\n      if (callback) callback();\n    };\n  }\n\n  clearTimerIfExist = () => {\n    const { slideOutTimer } = this.state;\n    if (slideOutTimer) clearTimeout(slideOutTimer);\n  }\n\n  slideIn = (duration) => {\n    // Animate \"this.state.containerSlideOffsetY\"\n    const { containerSlideOffsetY } = this.state;  // Using the new one is fine\n    Animated.timing(containerSlideOffsetY, { toValue: 1, duration: duration || 400, })  // TODO: customize\n      .start(({finished}) => {\n        this.countdownToSlideOut();\n      });\n  }\n\n  countdownToSlideOut = () => {\n    const slideOutTimer = setTimeout(() => {\n      this.slideOutAndDismiss();\n    }, this.state.slideOutTime);\n    this.setState({ slideOutTimer });\n  }\n\n  slideOutAndDismiss = (duration) => {\n    const { containerSlideOffsetY } = this.state;\n\n    // Reset animation to 0 && show it && animate\n    Animated.timing(containerSlideOffsetY, { toValue: 0, duration: duration || 400, })  // TODO: customize\n      .start(({finished}) => {\n        // Reset everything and hide the popup\n        this.setState({ show: false });\n      });\n  }\n\n  // Public method\n  show = (messageConfig) => {\n    this.clearTimerIfExist();\n\n    // Put message configs into state && show popup\n    const _messageConfig = messageConfig || {};\n    const {\n      onPress: onPressCallback,\n      appIconSource,\n      appTitle,\n      timeText,\n      title,\n      body,\n      slideOutTime\n    } = _messageConfig;\n    const onPressAndSlideOut = this.createOnPressWithCallback(onPressCallback);\n    this.setState({\n      show: true,\n      containerSlideOffsetY: new Animated.Value(0),\n      slideOutTimer: null,\n      containerDragOffsetY: new Animated.Value(0),\n      containerScale: new Animated.Value(1),\n      onPressAndSlideOut,\n      appIconSource,\n      appTitle,\n      timeText,\n      title,\n      body,\n      slideOutTime: typeof slideOutTime !== 'number' ? 4000 : slideOutTime\n    }, this.slideIn);\n  }\n}\n\nconst styles = StyleSheet.create({\n  popupContainer: {\n    position: 'absolute',\n    width: deviceWidth - (HORIZONTAL_MARGIN * 2),\n    left: HORIZONTAL_MARGIN,\n    right: HORIZONTAL_MARGIN,\n    top: CONTAINER_MARGIN_TOP,\n  },\n\n  popupContentContainer: {\n    backgroundColor: 'white',  // TEMP\n    borderRadius: 12,\n    minHeight: 86,\n    // === Shadows ===\n    // Android\n    elevation: 2,\n    // iOS\n    shadowColor: '#000000',\n    shadowOpacity: 0.5,\n    shadowRadius: 3,\n    shadowOffset: {\n      height: 1,\n      width: 0,\n    },\n  },\n\n  popupHeaderContainer: {\n    height: 32,\n    backgroundColor: '#F1F1F1',  // TEMP\n    borderTopLeftRadius: 12,\n    borderTopRightRadius: 12,\n    paddingVertical: 6,\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  headerIconContainer: {\n    height: 20,\n    width: 20,\n    marginLeft: 12,\n    marginRight: 8,\n    borderRadius: 4,\n  },\n  headerIcon: {\n    height: 20,\n    width: 20,\n    resizeMode: 'contain',\n  },\n  headerTextContainer: {\n    flex: 1,\n  },\n  headerText: {\n    fontSize: 13,\n    color: '#808080',\n    lineHeight: 20,\n  },\n  headerTimeContainer: {\n    marginHorizontal: 16,\n  },\n  headerTime: {\n    fontSize: 12,\n    color: '#808080',\n    lineHeight: 14,\n  },\n  contentContainer: {\n    width: '100%',\n    paddingTop: 8,\n    paddingBottom: 10,\n    paddingHorizontal: 16,\n  },\n  contentTitleContainer: {\n  },\n  contentTitle: {\n    fontSize: 15,\n    lineHeight: 18,\n    color: 'black',\n  },\n  contentTextContainer: {\n  },\n  contentText: {\n    fontSize: 12,\n    lineHeight: 14,\n    color: '#808080',\n    marginTop: 5,\n  },\n});\n"]},"metadata":{},"sourceType":"module"}